version: 2
updates:
- package-ecosystem: "github-actions"
  directory: "/"
  schedule:
    interval: weekly
    time: "04:00"
  open-pull-requests-limit: 100

- package-ecosystem: pip
  directory: "/components/collector"
  schedule:
    interval: weekly
    time: "04:10"
  allow:
    - dependency-type: "all"
  open-pull-requests-limit: 100

- package-ecosystem: docker
  directory: "/components/collector"
  schedule:
    interval: weekly
    time: "04:15"
  ignore:
    - dependency-name: "python"
      update-types: ["version-update:semver-major", "version-update:semver-minor"]  # Prevent alpha releases, see https://github.com/dependabot/dependabot-core/issues/4643
  open-pull-requests-limit: 100

- package-ecosystem: docker
  directory: "/components/database"
  schedule:
    interval: weekly
    time: "04:20"
  ignore:
    - dependency-name: "mongo"
      update-types: ["version-update:semver-major", "version-update:semver-minor"]  # Patches only, please
  open-pull-requests-limit: 100

- package-ecosystem: docker
  directory: "/components/frontend"
  schedule:
    interval: weekly
    time: "04:25"
  ignore:
    - dependency-name: "node"
      update-types: ["version-update:semver-major"]  # We use the LTS, so ignore major updates
  open-pull-requests-limit: 100

- package-ecosystem: npm
  directory: "/components/frontend"
  schedule:
    interval: weekly
    time: "04:30"
  open-pull-requests-limit: 100

- package-ecosystem: pip
  directory: "/components/notifier"
  schedule:
    interval: weekly
    time: "04:40"
  allow:
    - dependency-type: "all"
  open-pull-requests-limit: 100

- package-ecosystem: docker
  directory: "/components/notifier"
  schedule:
    interval: weekly
    time: "04:45"
  ignore:
    - dependency-name: "python"
      update-types: ["version-update:semver-major", "version-update:semver-minor"]  # Prevent alpha releases, see https://github.com/dependabot/dependabot-core/issues/4643
  open-pull-requests-limit: 100

- package-ecosystem: docker
  directory: "/components/proxy"
  schedule:
    interval: weekly
    time: "04:50"
  open-pull-requests-limit: 100

- package-ecosystem: docker
  directory: "/components/renderer"
  schedule:
    interval: weekly
    time: "04:55"
  ignore:
    - dependency-name: "node"
      update-types: ["version-update:semver-major"]  # We use the LTS, so ignore major updates
  open-pull-requests-limit: 100

- package-ecosystem: npm
  directory: "/components/renderer"
  schedule:
    interval: weekly
    time: "05:00"
  open-pull-requests-limit: 100

- package-ecosystem: docker
  directory: "/components/external_server"
  schedule:
    interval: weekly
    time: "05:05"
  ignore:
    - dependency-name: "python"
      update-types: ["version-update:semver-major", "version-update:semver-minor"]  # Prevent alpha releases, see https://github.com/dependabot/dependabot-core/issues/4643
  open-pull-requests-limit: 100

- package-ecosystem: pip
  directory: "/components/external_server"
  schedule:
    interval: weekly
    time: "05:10"
  allow:
    - dependency-type: "all"
  open-pull-requests-limit: 100

- package-ecosystem: docker
  directory: "/components/internal_server"
  schedule:
    interval: weekly
    time: "05:15"
  ignore:
    - dependency-name: "python"
      update-types: ["version-update:semver-major", "version-update:semver-minor"]  # Prevent alpha releases, see https://github.com/dependabot/dependabot-core/issues/4643
  open-pull-requests-limit: 100

- package-ecosystem: pip
  directory: "/components/internal_server"
  schedule:
    interval: weekly
    time: "05:20"
  allow:
    - dependency-type: "all"
  open-pull-requests-limit: 100

- package-ecosystem: pip
  directory: "/components/shared_data_model"
  schedule:
    interval: weekly
    time: "05:25"
  allow:
    - dependency-type: "all"
  open-pull-requests-limit: 100

- package-ecosystem: pip
  directory: "/components/shared_server_code"
  schedule:
    interval: weekly
    time: "05:30"
  allow:
    - dependency-type: "all"
  open-pull-requests-limit: 100

- package-ecosystem: docker
  directory: "/components/testdata"
  schedule:
    interval: weekly
    time: "05:35"
  ignore:
    - dependency-name: "python"
      update-types: ["version-update:semver-major", "version-update:semver-minor"]  # Prevent alpha releases, see https://github.com/dependabot/dependabot-core/issues/4643
  open-pull-requests-limit: 100

- package-ecosystem: npm
  directory: "/docs"
  schedule:
    interval: weekly
    time: "05:40"
  open-pull-requests-limit: 100

- package-ecosystem: pip
  directory: "/docs"
  schedule:
    interval: weekly
    time: "05:45"
  allow:
    - dependency-type: "all"
  open-pull-requests-limit: 100

- package-ecosystem: pip
  directory: "/release"
  schedule:
    interval: weekly
    time: "05:50"
  allow:
    - dependency-type: "all"
  open-pull-requests-limit: 100

- package-ecosystem: pip
  directory: "/tests/application_tests"
  schedule:
    interval: weekly
    time: "05:55"
  allow:
    - dependency-type: "all"
  open-pull-requests-limit: 100

- package-ecosystem: pip
  directory: "/tests/feature_tests"
  schedule:
    interval: weekly
    time: "06:00"
  allow:
    - dependency-type: "all"
  open-pull-requests-limit: 100
